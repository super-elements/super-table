<link rel="import" href="../polymer/polymer.html">

<!--
`super-table`


@demo demo/index.html
-->

<dom-module id="super-table">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <div id="table">
    </div>

  </template>

  <script>
    Polymer({

      is: 'super-table',

      properties: {
        prop1: {
          type: String,
          value: 'super-table',
        },

        items: {
          type: Array,
          notify: true,
          value: [{"key1":"firstName", "key2":"secondName"},{"name":"Dashmeet", "lastname":"Singh"},{"name":"Jasmeet", "lastname":"Singh"}],
          observer: 'populateData',
        }
      },

      populateData() {
        let table = document.createElement('table');
        table.id = 'contentTable';
        this.querySelector('#table').innerHTML = '';
        this.querySelector('#table').appendChild(table);

        let i = 0;
        this.items.forEach(dataObject => {
          let row = '';

          if(this.items.indexOf(dataObject) == 0){
            row = document.createElement('th');
          } else {
            row = document.createElement('tr');
          }
          row.id = `r${i}`;
          table.appendChild(row);
          i++;


          let j = 0;
          Object.keys(dataObject).forEach(dataEntry => {

            let column = document.createElement('td');
            column.id = `r${i}c${j}`;
            j++;
            column.innerText = dataObject[dataEntry];
            row.appendChild(column)
          })
        })
      }
    });
  </script>
</dom-module>
